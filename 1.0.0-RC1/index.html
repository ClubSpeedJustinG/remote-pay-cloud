<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>Clover SDK for Javascript Integration</h1><!---
!!NOTE!!  The following is automatically updated to reflect the npm version.
See the package.json postversion script, which maps to scripts/postversion.sh
Do not change this or the versioning may not reflect the npm version correctly.
--->
<p>Current version: 1.0.0-RC1</p>
<h2>Overview</h2><p>This SDK provides an API to allow your web application using Javascript to interface with a CloverÂ® Mini device (https://www.clover.com/pos-hardware/mini)</p>
<p>The API is available on <a href="https://github.com/clover/remote-pay-cloud">GitHub</a> for download, and can be used in conjunction with the proper browser framework from a NodeJS <code>require</code> directive, <a href="https://www.npmjs.com/package/remote-pay-cloud">hosted on NPM</a></p>
<ol>
<li>The remotepay/ICloverConnector is the high-level API with methods like <code>Sale()</code>, <code>VoidTransaction()</code>, <code>ManualRefund()</code>, etc.</li>
<li>The remotepay/ICloverConnectorListener is the high-level listener API that defines callback methods like <code>onSaleResponse</code>, <code>onRefundPaymentResponse</code>, etc.</li>
<li>The API includes objects that map to standard Clover objects such as <code>Payment</code>, <code>CardTransaction</code>, <code>Order</code>, etc.  These objects will match those defined in  <a href="https://github.com/clover/clover-android-sdk">clover-android-sdk</a></li>
</ol>
<p>The library requires the browser you use to support WebSockets. See <a href="http://caniuse.com/#feat=websockets">WebSocket Browser Support</a>.</p>
<h3>Examples</h3><h4>Application</h4><p>A sale/refund UI example project <a href="https://github.com/clover/clover-cloud-connector-example">Clover Cloud Connector Example</a> is available for download and deployment, or direct deployment to a Heroku server.</p>
<h4>Example Framework</h4><p>A example project composed of small examples <a href="https://github.com/clover/clover-cloud-connector-unit-examples">Clover Cloud Connector Unit Examples</a> is available for download and deployment, or direct deployment to a Heroku server.</p>
<p>Please report back to us any questions/comments/concerns, by emailing semi-integrations@clover.com.</p>
<h2>Release Notes</h2><h3>Version 1.0.0-RC1</h3><p>A deprecated beta version of the Connector (Clover.js) is included in this version with <code>require</code> directive syntax, but will removed in the future.</p>
<h3>Version <a href="https://github.com/clover/remote-pay-cloud-BETA/tree/BETA_Final">BETA</a></h3><p>The beta version includes the earliest library as well as a server with examples of the functions. </p>
<hr>
<h1>Quickstart</h1><p>Clover's cloud connector API.  Published as an NPM package.  Intended for use in a browser environment.</p>
<h2>At a Glance</h2><h3>Make a sale.</h3><pre class="prettyprint source"><code>require(&quot;prototype&quot;);
var $ = require('jQuery');

var clover = require(&quot;remote-pay-cloud&quot;);
var log = clover.Logger.create();

var connector = new clover.CloverConnectorFactory().createICloverConnector({
    &quot;oauthToken&quot;: &quot;1e7a9007-141a-293d-f41d-f603f0842139&quot;,
    &quot;merchantId&quot;: &quot;BBFF8NBCXEMDV&quot;,
    &quot;clientId&quot;: &quot;3RPTN642FHXTX&quot;,
    &quot;deviceSerialId&quot;: &quot;C031UQ52340015&quot;,
    &quot;domain&quot;: &quot;https://dev1.dev.clover.com/&quot;
});

var ExampleCloverConnectorListener = Class.create( clover.remotepay.ICloverConnectorListener, {
    initialize: function (cloverConnector) {
        this.cloverConnector = cloverConnector;
    },
    onReady: function (merchantInfo) {
        var saleRequest = new clover.remotepay.SaleRequest();
        saleRequest.setExternalId(clover.CloverID.getNewId());
        saleRequest.setAmount(10000);
        this.cloverConnector.sale(saleRequest);
    },
    onVerifySignatureRequest: function (request) {
        log.info(request);
        this.cloverConnector.acceptSignature(request);
    },
    onSaleResponse: function (response) {
        log.info(response);
        connector.dispose();
        if(!response.getIsSale()) {
            console.error(&quot;Response is not an sale!&quot;);
            console.error(response);
        }
    }
});

var connectorListener = new ExampleCloverConnectorListener(connector);
connector.addCloverConnectorListener(connectorListener);
connector.initializeConnection();

// Close the connection cleanly on exit.  This should be done with all connectors.
$(window).on('beforeunload ', function () {
    try {
        connector.dispose();
    } catch (e) {
        console.log(e);
    }
});</code></pre><h3>To make a payment using the High Level Cloud API</h3><h4>Import the libraries needed to create the clover object.</h4><pre class="prettyprint source"><code>require(&quot;prototype&quot;);
var clover = require(&quot;remote-pay-cloud&quot;);</code></pre><h4>Create the Clover Connector object.</h4><p>This will require gathering the configuration information to create the connector.  In this example, the configuration is hard coded.  The creation of the connector is done using the connector factory.</p>
<pre class="prettyprint source"><code>var connector = new clover.CloverConnectorFactory().createICloverConnector({
    &quot;merchantId&quot;: &quot;BBFF8NBCXEMDT&quot;,
    &quot;clientId&quot;: &quot;3RPTN642FHXTC&quot;,
    &quot;deviceSerialId&quot;: &quot;C031UQ52340045&quot;,
    &quot;domain&quot;: &quot;https://dev1.dev.clover.com/&quot;
});</code></pre><p>There are several ways the Clover Connector object can be configured.</p>
<p>Examples of configurations that can be used when creating the Clover Connector object:</p>
<ol>
<li>With a clientID, domain, merchantId, deviceSerialId<pre class="prettyprint source"><code>{
&quot;clientId&quot; : &quot;3BZPZ6A6FQ8ZM&quot;,
&quot;domain&quot; : &quot;https://sandbox.dev.clover.com/&quot;,
&quot;merchantId&quot; : &quot;VKYQ0RVGMYHRS&quot;,
&quot;deviceSerialId&quot; : &quot;C021UQ52341078&quot;
}</code></pre></li>
<li>With a oauthToken, domain, merchantId, clientId, deviceSerialId<pre class="prettyprint source"><code>{
&quot;oauthToken&quot; : &quot;6e6313e8-fe33-8662-7ff2-3a6690e0ff14&quot;,
&quot;domain&quot; : &quot;https://sandbox.dev.clover.com/&quot;,
&quot;merchantId&quot; : &quot;VKYQ0RVGMYHRS&quot;,
&quot;clientId&quot; : &quot;3BZPZ6A6FQ8ZM&quot;,
&quot;deviceSerialId&quot; : &quot;C021UQ52341078&quot;
}</code></pre></li>
</ol>
<h4>Define a listener that will listen for events produced byt the Clover Connector.</h4><p>The functions implemented will be called as the connector encounters the events.  These functions can be found in the clover.remotepay.ICloverConnectorListener. </p>
<pre class="prettyprint source"><code>var ExampleCloverConnectorListener = Class.create( clover.remotepay.ICloverConnectorListener, {
    // This function overrides the basic prototype.js initialization function.  This example
    // expects that a coler connector implementation instance is passed to the created listener.
    initialize: function (cloverConnector) {
        this.cloverConnector = cloverConnector;
    },
    // The ICloverConnectorListener function that is called when the device is ready to be used.
    // This example starts up a sale for $100
    onReady: function (merchantInfo) {
        var saleRequest = new clover.remotepay.SaleRequest();
        saleRequest.setExternalId(clover.CloverID.getNewId());
        saleRequest.setAmount(10000);
        this.cloverConnector.sale(saleRequest);
    },
    // The ICloverConnectorListener function that is called when the device needs to have a signature
    // accepted, or rejected.
    // This example accepts the signature, sight unseen
    onVerifySignatureRequest: function (request) {
        log.info(request);
        this.cloverConnector.acceptSignature(request);
    },
    // The ICloverConnectorListener function that is called when a sale request is completed.
    // This example logs the response, and disposes of the connector.  If the response is not an expected 
    // type, it will log an error.
    onSaleResponse: function (response) {
        log.info(response);
        connector.dispose();
        if(!response.getIsSale()) {
            console.error(&quot;Response is not an sale!&quot;);
            console.error(response);
        }
    }
}</code></pre><h4>Add the listener instance to the connector, and initialize the connection to the device.</h4><pre class="prettyprint source"><code>var connectorListener = new ExampleCloverConnectorListener(connector);
connector.addCloverConnectorListener(connectorListener);
connector.initializeConnection();</code></pre><h4>Clean up the connection on exit of the window.  This should be done with all connectors.</h4><p>This example uses jQuery to add a hook for the window <code>beforeunload</code> event that ensures that the connector is displosed of.</p>
<pre class="prettyprint source"><code>$(window).on('beforeunload ', function () {
    try {
        connector.dispose();
    } catch (e) {
        console.log(e);
    }
});</code></pre><h2>Generate Documentation</h2><p>API documentation is generated when <code>npm install</code> is run.</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="base.Address.html">Address</a></li><li><a href="base.Challenge.html">Challenge</a></li><li><a href="base.ChallengeTypeEnum.html">ChallengeTypeEnum</a></li><li><a href="base.CountryInfo.html">CountryInfo</a></li><li><a href="base.PendingPaymentEntry.html">PendingPaymentEntry</a></li><li><a href="base.Point.html">Point</a></li><li><a href="base.Points.html">Points</a></li><li><a href="base.Reference.html">Reference</a></li><li><a href="base.ServiceCharge.html">ServiceCharge</a></li><li><a href="base.Signature.html">Signature</a></li><li><a href="base.Tender.html">Tender</a></li><li><a href="customers.Address.html">Address</a></li><li><a href="customers.Card.html">Card</a></li><li><a href="customers.Customer.html">Customer</a></li><li><a href="customers.EmailAddress.html">EmailAddress</a></li><li><a href="customers.PhoneNumber.html">PhoneNumber</a></li><li><a href="device.Device.html">Device</a></li><li><a href="device.DeviceProvision.html">DeviceProvision</a></li><li><a href="device.Rom.html">Rom</a></li><li><a href="device.SwapRequestEvent.html">SwapRequestEvent</a></li><li><a href="employees.Employee.html">Employee</a></li><li><a href="employees.Permissions.html">Permissions</a></li><li><a href="employees.PermissionSet.html">PermissionSet</a></li><li><a href="employees.PermissionSetRole.html">PermissionSetRole</a></li><li><a href="employees.Role.html">Role</a></li><li><a href="employees.Shift.html">Shift</a></li><li><a href="hours.HourRange.html">HourRange</a></li><li><a href="hours.HoursSet.html">HoursSet</a></li><li><a href="hours.Reference.html">Reference</a></li><li><a href="inventory.Attribute.html">Attribute</a></li><li><a href="inventory.Category.html">Category</a></li><li><a href="inventory.CategoryItem.html">CategoryItem</a></li><li><a href="inventory.Discount.html">Discount</a></li><li><a href="inventory.Item.html">Item</a></li><li><a href="inventory.ItemGroup.html">ItemGroup</a></li><li><a href="inventory.ItemModifierGroup.html">ItemModifierGroup</a></li><li><a href="inventory.ItemStock.html">ItemStock</a></li><li><a href="inventory.Modifier.html">Modifier</a></li><li><a href="inventory.ModifierGroup.html">ModifierGroup</a></li><li><a href="inventory.Option.html">Option</a></li><li><a href="inventory.OptionItem.html">OptionItem</a></li><li><a href="inventory.Tag.html">Tag</a></li><li><a href="inventory.TagItem.html">TagItem</a></li><li><a href="inventory.TagPrinter.html">TagPrinter</a></li><li><a href="inventory.TaxRate.html">TaxRate</a></li><li><a href="inventory.TaxRateItem.html">TaxRateItem</a></li><li><a href="order.Discount.html">Discount</a></li><li><a href="order.DisplayDiscount.html">DisplayDiscount</a></li><li><a href="order.DisplayLineItem.html">DisplayLineItem</a></li><li><a href="order.DisplayModification.html">DisplayModification</a></li><li><a href="order.DisplayOrder.html">DisplayOrder</a></li><li><a href="order.DisplayPayment.html">DisplayPayment</a></li><li><a href="order.FireOrder.html">FireOrder</a></li><li><a href="order.LineItem.html">LineItem</a></li><li><a href="order.Modification.html">Modification</a></li><li><a href="order.Order.html">Order</a></li><li><a href="order.OrderTaxRate.html">OrderTaxRate</a></li><li><a href="order.OrderType.html">OrderType</a></li><li><a href="order.OrderTypeCategory.html">OrderTypeCategory</a></li><li><a href="order.SystemOrderType.html">SystemOrderType</a></li><li><a href="order.VoidedLineItem.html">VoidedLineItem</a></li><li><a href="payments.Authorization.html">Authorization</a></li><li><a href="payments.Batch.html">Batch</a></li><li><a href="payments.BatchCardTotal.html">BatchCardTotal</a></li><li><a href="payments.BatchDetail.html">BatchDetail</a></li><li><a href="payments.BatchRequest.html">BatchRequest</a></li><li><a href="payments.BatchTotalStats.html">BatchTotalStats</a></li><li><a href="payments.BatchTotalType.html">BatchTotalType</a></li><li><a href="payments.CardTransaction.html">CardTransaction</a></li><li><a href="payments.Credit.html">Credit</a></li><li><a href="payments.DCCInfo.html">DCCInfo</a></li><li><a href="payments.GatewayTxs.html">GatewayTxs</a></li><li><a href="payments.GiftCard.html">GiftCard</a></li><li><a href="payments.GiftCardResponse.html">GiftCardResponse</a></li><li><a href="payments.GiftCardTransaction.html">GiftCardTransaction</a></li><li><a href="payments.LineItemPayment.html">LineItemPayment</a></li><li><a href="payments.Payment.html">Payment</a></li><li><a href="payments.PaymentResponse.html">PaymentResponse</a></li><li><a href="payments.PaymentTaxRate.html">PaymentTaxRate</a></li><li><a href="payments.Refund.html">Refund</a></li><li><a href="payments.ServerTotalStats.html">ServerTotalStats</a></li><li><a href="payments.ServiceChargeAmount.html">ServiceChargeAmount</a></li><li><a href="payments.Tag.html">Tag</a></li><li><a href="payments.TaxableAmountRate.html">TaxableAmountRate</a></li><li><a href="payments.TerminalParameter.html">TerminalParameter</a></li><li><a href="payments.Transaction.html">Transaction</a></li><li><a href="payments.VaultedCard.html">VaultedCard</a></li><li><a href="printer.Printer.html">Printer</a></li><li><a href="remotepay.AuthRequest.html">AuthRequest</a></li><li><a href="remotepay.AuthResponse.html">AuthResponse</a></li><li><a href="remotepay.BaseRequest.html">BaseRequest</a></li><li><a href="remotepay.BaseResponse.html">BaseResponse</a></li><li><a href="remotepay.CapturePreAuthRequest.html">CapturePreAuthRequest</a></li><li><a href="remotepay.CapturePreAuthResponse.html">CapturePreAuthResponse</a></li><li><a href="remotepay.CardInfoRequest.html">CardInfoRequest</a></li><li><a href="remotepay.CardInfoResponse.html">CardInfoResponse</a></li><li><a href="remotepay.CloseoutRequest.html">CloseoutRequest</a></li><li><a href="remotepay.CloseoutResponse.html">CloseoutResponse</a></li><li><a href="remotepay.CloverDeviceErrorEvent.html">CloverDeviceErrorEvent</a></li><li><a href="remotepay.CloverDeviceEvent.html">CloverDeviceEvent</a></li><li><a href="remotepay.ConfirmPaymentRequest.html">ConfirmPaymentRequest</a></li><li><a href="remotepay.DeviceEventEnum.html">DeviceEventEnum</a></li><li><a href="remotepay.DeviceInfo.html">DeviceInfo</a></li><li><a href="remotepay.DisplayReceiptOptionsRequest.html">DisplayReceiptOptionsRequest</a></li><li><a href="remotepay.ICloverConnector.html">ICloverConnector</a></li><li><a href="remotepay.ICloverConnectorListener.html">ICloverConnectorListener</a></li><li><a href="remotepay.Img.html">Img</a></li><li><a href="remotepay.InputOption.html">InputOption</a></li><li><a href="remotepay.KeyPressEnum.html">KeyPressEnum</a></li><li><a href="remotepay.ManualRefundRequest.html">ManualRefundRequest</a></li><li><a href="remotepay.ManualRefundResponse.html">ManualRefundResponse</a></li><li><a href="remotepay.MerchantInfo.html">MerchantInfo</a></li><li><a href="remotepay.PaymentResponse.html">PaymentResponse</a></li><li><a href="remotepay.PreAuthRequest.html">PreAuthRequest</a></li><li><a href="remotepay.PreAuthResponse.html">PreAuthResponse</a></li><li><a href="remotepay.RefundPaymentRequest.html">RefundPaymentRequest</a></li><li><a href="remotepay.RefundPaymentResponse.html">RefundPaymentResponse</a></li><li><a href="remotepay.ResponseCodeEnum.html">ResponseCodeEnum</a></li><li><a href="remotepay.ResultStatusEnum.html">ResultStatusEnum</a></li><li><a href="remotepay.RetrievePendingPaymentsResponse.html">RetrievePendingPaymentsResponse</a></li><li><a href="remotepay.SaleRequest.html">SaleRequest</a></li><li><a href="remotepay.SaleResponse.html">SaleResponse</a></li><li><a href="remotepay.TipAdded.html">TipAdded</a></li><li><a href="remotepay.TipAdjustAuthRequest.html">TipAdjustAuthRequest</a></li><li><a href="remotepay.TipAdjustAuthResponse.html">TipAdjustAuthResponse</a></li><li><a href="remotepay.TransactionRequest.html">TransactionRequest</a></li><li><a href="remotepay.TransactionTypeEnum.html">TransactionTypeEnum</a></li><li><a href="remotepay.VaultCardRequest.html">VaultCardRequest</a></li><li><a href="remotepay.VaultCardResponse.html">VaultCardResponse</a></li><li><a href="remotepay.VerifySignatureRequest.html">VerifySignatureRequest</a></li><li><a href="remotepay.VoidCreditRequest.html">VoidCreditRequest</a></li><li><a href="remotepay.VoidCreditResponse.html">VoidCreditResponse</a></li><li><a href="remotepay.VoidPaymentRequest.html">VoidPaymentRequest</a></li><li><a href="remotepay.VoidPaymentResponse.html">VoidPaymentResponse</a></li></ul><h3>Namespaces</h3><ul><li><a href="base.html">base</a></li><li><a href="customers.html">customers</a></li><li><a href="device.html">device</a></li><li><a href="employees.html">employees</a></li><li><a href="hours.html">hours</a></li><li><a href="inventory.html">inventory</a></li><li><a href="order.html">order</a></li><li><a href="order.operation.html">operation</a></li><li><a href="payments.html">payments</a></li><li><a href="printer.html">printer</a></li><li><a href="remotepay.html">remotepay</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Thu Jul 28 2016 16:11:01 GMT-0600 (MDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>